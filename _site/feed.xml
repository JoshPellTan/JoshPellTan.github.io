<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Josh Pell'Page</title>
    <description>When you think you can stop learning, is a time when you are going to be washed out.</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Thu, 19 Jan 2017 16:51:52 +0800</pubDate>
    <lastBuildDate>Thu, 19 Jan 2017 16:51:52 +0800</lastBuildDate>
    <generator>Jekyll v3.3.1</generator>
    
      <item>
        <title>å…³äºæŠ±æ€¨å’Œä¸æ»¡</title>
        <description>&lt;p&gt;äºŒåè¿‡åŠçš„æˆ‘ç»å¸¸èƒ½å¬åˆ°è¿™æ ·çš„å£°éŸ³ï¼šæˆ‘è¿™å·¥ä½œæ€ä¹ˆæ€ä¹ˆä¸å¥½äº†ã€å½“åˆè¦æ˜¯é€‰æ‹©é‚£ä¸ªåˆæ€æ ·æ€æ ·äº†ã€ä»¥åæˆ‘åº”è¯¥å¹²å˜›å‘¢â€¦ç­‰ç­‰&lt;/p&gt;

&lt;p&gt;ç¡®å®ï¼Œæˆ‘ä»¬è¿™ä¸ªå¹´é¾„æ®µçš„ç»å¤§éƒ¨åˆ†äººä»ç„¶æ˜¯è¿·èŒ«çš„ã€‚&lt;/p&gt;

&lt;p&gt;è®¸å¤šäººçš„å®¶åº­éƒ½å¾ˆæ™®é€šï¼Œæ²¡æƒæ²¡é’±æ²¡åŠ¿ï¼Œä¸å¯èƒ½åƒå›½æ°‘è€å…¬é‚£æ ·å…ˆä»è€çˆ¹é‚£å„¿æ‹¿ä¸ª5äº¿ç»ƒç»ƒæ‰‹ï¼Œåˆç”±äºçˆ¶æ¯çš„ç¤¾ä¼šåœ°ä½åœ¨é‚£å„¿ï¼Œé‡åˆ°äº‹æƒ…åˆ«äººå¤šå°‘éƒ½ä¼šç»™ç‚¹é¢å­ï¼Œæ‰€ä»¥æ¯”è¾ƒä¸€ä¸‹åé»˜é»˜æ”¾ä¸‹äº†â€œå…ˆèµšä»–ä¸€ä¸ªäº¿â€çš„å°ç›®æ ‡ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æˆ‘ä»¬è¿™ä»£äººåŸºæœ¬éƒ½å—è¿‡é«˜ç­‰æ•™è‚²ï¼Œä¸æ„¿åƒä¸Šä¸€ä»£ä¸€æ ·æ™®æ™®é€šé€šï¼Œæ€»æƒ³æå‡ºä¸€ç•ªäº‹ä¸šï¼ˆæäº‹æƒ…ï¼‰ï¼Œå´å‘ç°ä¸çŸ¥é“ç¬¬ä¸€æ­¥æ€ä¹ˆèµ°ã€‚ä½†åœ¨æˆ‘çœ‹æ¥å´æ˜¯æˆ‘ä»¬ä¸æ•¢èµ°è¿™ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éƒ½å·²æˆå®¶æˆ–å°†æˆå®¶ï¼Œéƒ½æœ‰å®¶åº­ï¼Œæœ‰çš„å·²ç»æœ‰äº†å°å­©ï¼Œæœ‰å‡ ä¸ªæ„¿æ„æˆ–è€…æ•¢æ”¾å¼ƒé‚£äº›ç°åœ¨å£ä¸­çš„é‚£äº›ä¸å¥½çš„å·¥ä½œï¼Œæ”¾å¼ƒä¸€ä¸ªæœˆå‡ åƒæˆ–è€…ä¸Šä¸‡çš„æ”¶å…¥ï¼Œä¸€å¤´æ‰è¿›ä¸€ä¸ªä¸çŸ¥èƒ½ä¸èƒ½æˆåŠŸæŠ‘æˆ–ä¸çŸ¥ä½•æ—¶æ‰èƒ½æˆåŠŸçš„åˆ›ä¸šé¡¹ç›®ä¸­ï¼Ÿç›¸ä¿¡æˆ‘ä»¬è¿™ä¸€ä»£å…¨éƒ¨éƒ½æŠ•èº«åˆ›ä¸šä¸­ï¼Œæ€»èƒ½æˆå°±å‡ ä¸ªå¤§é³„ã€‚&lt;/p&gt;

&lt;p&gt;ç»å¸¸çœ‹åˆ°è¿™å„¿ä¸€ä¸ªæ–‡ç« é‚£å„¿ä¸€éƒ¨è§†é¢‘ï¼Œéƒ½æ˜¯è®²ä¸€äº›æˆåŠŸäººå£«çš„å¦‚ä½•èµ°ä¸ŠæˆåŠŸä¹‹è·¯çš„ã€‚ä½†ä½ çœ‹çœ‹å½“ä»–ä»¬ä¸‹æµ·åŠ å…¥åˆ›ä¸šå¤§å†›æ—¶ä»–ä»¬æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„çŠ¶æ€ï¼Œä½ å°±ä¸ä¼šå†è¿™ä¹ˆå±€ä¿ƒä¸å®‰äº†ï¼Œä¸æ˜¯CEOå°±æ˜¯CTOï¼Œæˆ–è€…å°±æ˜¯æŸå›½é™…å…¬å¸æŠ€æœ¯æ ¸å¿ƒæˆ–è€…ä¸šåŠ¡æ ¸å¿ƒã€‚è¿™ä»£è¡¨ä»€ä¹ˆï¼Ÿä»£è¡¨ä»–ä»¬æœ‰ç»éªŒï¼Œæœ‰æŠ€æœ¯ï¼Œæœ‰æŠ€æœ¯ï¼Œæœ‰äººè„‰ï¼æ¯”å¦‚&lt;a href=&quot;http://baike.baidu.com/view/1240566.htm&quot;&gt;è”¡å´‡ä¿¡&lt;/a&gt;ã€&lt;a href=&quot;http://baike.baidu.com/link?url=OXSuqRi80a4MFvxM6brRnpC7UjLvUGJYh1m8MDP_YiWI-xo76wMIoHKUDv8gr6oweepXKCuM-7fUArZRJSrvBzfiE3Wiwxpkphb5wn_iZj7&quot;&gt;é›·å†›&lt;/a&gt;ã€&lt;a href=&quot;http://baike.baidu.com/link?url=_2UjhZcmVBlUir0E-jqmXw5SZ6J3LlMtE86QPRfczR9P_jlVNeZJhXytS7B4-M-1Z5h4gXWb5s1Iv0XKKNj6jicvBmBKSBA4N5aggqcA4MtkECOCXG8lPKN4vHWdiMCe&quot;&gt;æå½¦å®&lt;/a&gt;ã€‚æˆ–è®¸ä½ ä¼šè¯´é©¬äº‘ï¼Œä»–ä¸å°±æ˜¯ä¸ªè€å¸ˆå‡ºèº«å—ï¼Ÿä½†äººå®¶88å¹´åšå¤§å­¦è€å¸ˆï¼Œé‚£æ—¶å€™å¤§å­¦ç”Ÿéƒ½æ˜¯ç‰›Xäººï¼Œä½•å†µå¤§å­¦ç”Ÿçš„è€å¸ˆï¼Œå†è¯´ï¼Œä»–çš„å£æ‰ä»–çš„çœ¼ç•Œï¼Œå‡ ä¸ªäººèƒ½æ¯”çš„ã€‚æ‰€ä»¥ï¼Œä»–ä»¬çš„æˆåŠŸéƒ½æ˜¯æœ‰æˆåŠŸçš„ç†ç”±çš„ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å½“ä½ å¯¹ç°å®ä¸æ»¡ï¼Œå¯¹å¢ƒé‡æœ‰æ‰€æŠ±æ€¨çš„æ—¶å€™ï¼Œä½ åº”è¯¥çŸ¥é“ï¼Œé‚£éƒ½æ˜¯ä½ è‡ªå·±ä¸€æ­¥ä¸€æ­¥é€‰æ‹©æ¥çš„ã€‚ä¸è¦ç›¸ä¿¡ä»€ä¹ˆå‘½è¿ä½¿ç„¶ï¼Œé‚£åªæ˜¯å¾ˆå¤šä¸æ„¿æ„ç›´é¢è‡ªå·±æ›¾ç»çš„é”™è¯¯é€‰æ‹©çš„ä¸€ä¸ªå€Ÿå£è€Œå·²ï¼Œè·Ÿâ€œæˆ‘ä»¬æ€§æ ¼å¾ˆä¸åˆé€‚â€ä¸€æ ·ï¼Œéƒ½æ˜¯ç„å­¦ã€‚ä½ åªæœ‰åœ¨åŠªåŠ›æå‡è‡ªå·±çš„ä¸šåŠ¡æ°´å¹³æˆ–è€…æŠ€æœ¯æ°´å¹³ï¼Œå¹¶è¾¾åˆ°ä¸€ä¸ªæ¯”ä½ ç¯å¢ƒæ°´å¹³æ›´é«˜çš„ä¸€ä¸ªé«˜åº¦åï¼Œä½ æ‰æœ‰èµ„æ ¼å»æƒ³æ›´å¤šã€‚&lt;/p&gt;

&lt;p&gt;è¿™å¥è¯é€ç»™å¤§å®¶ï¼Œå…±å‹‰ï¼š&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;å¦‚æœä½ ä¸çŸ¥é“è‡ªå·±æƒ³åšä»€ä¹ˆï¼Œå°±å…ˆæŠŠèº«è¾¹çš„äº‹æƒ…åšå¥½ã€‚ä¸çŸ¥é“è‡ªå·±è¯¥å»å“ªé‡Œï¼Œå°±å…ˆèµ°å¥½ç°åœ¨çš„è·¯ã€‚ä¸çŸ¥é“ä¼šé‡è§è°ï¼Œå°±å…ˆå–„å¾…èº«è¾¹çš„æ‰€æœ‰äººï¼Œä¸çŸ¥é“åšçš„äº‹æƒ…æœ‰æ²¡æœ‰æ„ä¹‰ï¼Œè‡³å°‘å…ˆç¡®å®šè‡ªå·±æœ‰æ²¡æœ‰å»åšï¼Œä¸è½»æ˜“çš„æ‰“æ…åˆ«äººçš„å°å¹¸ç¦ï¼Œä¹Ÿä¸å˜²ç¬‘åˆ«äººçš„æ¢¦æƒ³ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¿˜å¹´è½»çš„æˆ‘ä»¬ï¼Œåº”è¯¥å­¦ä¼šæ´»åœ¨å½“ä¸‹ï¼Œåšå¥½çœ¼å‰çš„è‡ªå·±ï¼Œè¿™æ ·ä½ æ‰èƒ½åœ¨æœ‰èƒ½åŠ›çš„æ—¶å€™æ”¾å¼€å»æã€‚ä¸ç®¡æœ€åç»“æœå¦‚ä½•ï¼Œå¹´è¿ˆä¹‹åä½ ä¼šå› ä¸ºæœ‰ä¸€ä¸ªå˜´è§’å‘ä¸Šæ‰¬èµ·çš„é’æ˜¥è€Œæ„Ÿæ©è‡ªå·±ï¼Œåº†å¹¸èƒ½æ´»å‡ºè‡ªå·±ï¼&lt;/p&gt;

</description>
        <pubDate>Thu, 19 Jan 2017 16:08:13 +0800</pubDate>
        <link>http://localhost:4000/study/2017/01/19/%E5%85%B3%E4%BA%8E%E6%8A%B1%E6%80%A8%E5%92%8C%E4%B8%8D%E6%BB%A1/</link>
        <guid isPermaLink="true">http://localhost:4000/study/2017/01/19/%E5%85%B3%E4%BA%8E%E6%8A%B1%E6%80%A8%E5%92%8C%E4%B8%8D%E6%BB%A1/</guid>
        
        <category>essay</category>
        
        <category>å…³äºæŠ±æ€¨å’Œä¸æ»¡</category>
        
        
        <category>study</category>
        
      </item>
    
      <item>
        <title>å…³äºæˆªå–appé¡µé¢é•¿å›¾</title>
        <description>&lt;p&gt;å‰å‡ å¤©å¬æœ‹å‹è¯´ä»–ä»¬é¡¹ç›®å‡†å¤‡åŠ ä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯å°†é¡µé¢æ‰€æœ‰çš„å†…å®¹æˆªå–å‡ºæ¥ç”Ÿæˆä¸€å¼ é•¿å›¾ï¼Œæˆ‘æƒ³è¿™æ˜¯ä»€ä¹ˆéœ€æ±‚ï¼Œæœ‰é¡µé¢åˆ†äº«ä¸ºå˜›è¦åˆ†äº«é•¿å›¾o(â•¯â–¡â•°)oã€‚åæ¥æŸå¤©åœ¨å…¬å¸æµè§ˆç®€ä¹¦çš„æ–‡ç« çš„æ—¶å€™æ— æ„å‘ç°äº†ç®€ä¹¦å±…ç„¶æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œç„¶åèµ¶ç´§æ‰“å¼€ç®€ä¹¦çš„appï¼Œæœç„¶appä¹Ÿæœ‰è¿™ä¸ªæˆªé•¿å›¾çš„åŠŸèƒ½ï¼Œäº‹å®è¯æ˜æˆ‘æ¯•ç«Ÿä¸æ˜¯äº§å“ç»ç†çš„æ–™ã€‚åæ¥å°±å¼€å§‹ç ”ç©¶è¿™ä¸ªä¸œè¥¿ï¼ŒæŸ¥äº†ä¸€äº›ç»˜å›¾çš„èµ„æ–™åç»ˆäºæ‰¾åˆ°æ–¹æ³•äº†ï¼Œè¯•éªŒåæœç„¶å¯è¡Œã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ™®é€šæˆªå›¾&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;CALayer&lt;/code&gt;ç±»æœ‰ä¸ªæ–¹æ³•&lt;code class=&quot;highlighter-rouge&quot;&gt;renderInContext:&lt;/code&gt;ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨æ¥æˆªå–layerå±‚çš„å›¾åƒï¼Œä¼ å…¥ä¸€ä¸ªå›¾å½¢ä¸Šä¸‹æ–‡ï¼Œæœ€åå†é€šè¿‡å›¾å½¢ä¸Šä¸‹æ–‡è·å–å›¾ç‰‡çš„æ–¹æ³•&lt;code class=&quot;highlighter-rouge&quot;&gt;UIGraphicsGetImageFromCurrentImageContext()&lt;/code&gt;å°±å¯ä»¥æ‹¿åˆ°æƒ³è¦æˆªå–çš„å›¾ç‰‡äº†ï¼Œä¸‹é¢å°±æ˜¯æˆªå–æ™®é€šå›¾å±‚çš„ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;UIGraphicsBeginImageContextWithOptions(imageSize, YES, 0.0);
[view.layer renderInContext:UIGraphicsGetCurrentContext()];
image = UIGraphicsGetImageFromCurrentImageContext();
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;ä¸‹é¢æ¥è¯´ä¸€ä¸‹&lt;code class=&quot;highlighter-rouge&quot;&gt;UIGraphicsBeginImageContextWithOptions()&lt;/code&gt;ï¼Œè¿™ä¸ªæ–¹æ³•ä½œç”¨æ˜¯å¼€å¯å›¾å½¢ä¸Šä¸‹æ–‡ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ§åˆ¶æˆªå›¾çš„å¤§å°ï¼Œä¸€èˆ¬è·Ÿviewå¤§å°ä¸€è‡´ï¼Œè‹¥å°äºviewå¤§å°ï¼Œå›¾ç‰‡æœ€åä¼šä¸¢å¤±viewå³è¾¹æˆ–è€…ä¸‹éƒ¨çš„ä¸€äº›å›¾åƒï¼›ç¬¬äºŒä¸ªæ˜¯é€æ˜å¼€å…³ï¼Œä¸€èˆ¬ä¼ YESæˆªå–çš„å›¾ç‰‡è´¨é‡ä¼šé«˜ç‚¹ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ç¼©æ”¾å› å­ï¼Œä¸€èˆ¬ä¼ 1.0ï¼Œå…¶ä»–çš„å¯ä»¥è‡ªå·±è¯•è¯•ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æˆªå–é•¿å›¾ï¼ˆè¿™é‡Œé’ˆå¯¹tableViewå’ŒcollectionViewï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯èƒ½ä½ ä¸ä¿¡ï¼Œæˆªå–é•¿å›¾è·Ÿä¸Šé¢æ–¹æ³•ä¸€æ ·ï¼Œåªéœ€è¦åœ¨å¼€å¯å›¾å½¢ä¸Šä¸‹æ–‡æ—¶å°†sizeè®¾ç½®ä¸ºtableViewæˆ–collectionViewçš„contentSizeå³å¯ï¼Œå¹¶ä¸”å°†tableviewæ»šåˆ°é¡¶éƒ¨å†å¼€å§‹æˆªå›¾ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;UIGraphicsBeginImageContextWithOptions(tableView.contentSize , YES, 0.0);
tableView.contentOffset = CGPointZero;
tableView.frame = CGRectMake(0, 0, tableView.contentSize.width, tableView.contentSize.height);
[tableView.layer renderInContext: UIGraphicsGetCurrentContext()];
image = UIGraphicsGetImageFromCurrentImageContext();
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ€ä¹ˆæ ·å¾ˆç®€å•å§ï¼Œä½ è¿˜å¯ä»¥ä¸‹è½½æˆ‘åœ¨githubä¸Šæ”¾ç½®çš„&lt;a href=&quot;https://github.com/JoshPellTan/TJImageCutDemo&quot;&gt;demo&lt;/a&gt;æ¥çœ‹çœ‹ï¼Œæ¬¢è¿starï¼&lt;/p&gt;
</description>
        <pubDate>Wed, 11 Jan 2017 16:08:13 +0800</pubDate>
        <link>http://localhost:4000/study/2017/01/11/%E5%85%B3%E4%BA%8E%E6%88%AA%E5%8F%96app%E9%A1%B5%E9%9D%A2%E9%95%BF%E5%9B%BE/</link>
        <guid isPermaLink="true">http://localhost:4000/study/2017/01/11/%E5%85%B3%E4%BA%8E%E6%88%AA%E5%8F%96app%E9%A1%B5%E9%9D%A2%E9%95%BF%E5%9B%BE/</guid>
        
        <category>é•¿å›¾</category>
        
        <category>ç»˜å›¾</category>
        
        <category>å…³äºæˆªå–appé¡µé¢é•¿å›¾</category>
        
        
        <category>study</category>
        
      </item>
    
      <item>
        <title>å…³äºå–æ¶ˆç½‘ç»œè¯·æ±‚</title>
        <description>&lt;p&gt;ä»Šå¤©çŒ›åœ°ä¸€ä¸‹çªç„¶æƒ³åˆ°å¾ˆä¹…ä»¥å‰é‡åˆ°çš„ä¸€ä¸ªé¢è¯•é—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªç½‘ç»œè¯·æ±‚å·²ç»å‘é€ï¼Œä½†æ˜¯è¯·æ±‚è¿˜æ²¡æœ‰å®Œæˆï¼Œè¿™æ—¶æˆ‘æƒ³å–æ¶ˆè¿™ä¸ªè¯·æ±‚æ€ä¹ˆåŠï¼ŸåˆšåˆšæŸ¥äº†æŸ¥èµ„æ–™ï¼Œè‡ªå·±ä¹Ÿæƒ³äº†æƒ³ï¼Œä¸‹é¢å°±ä»è¿™ä¸ªéœ€æ±‚è¯´èµ·ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;è¿™ä¸ªéœ€æ±‚æœ‰ä½•æ„ä¹‰ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦‚æœè¯´è¿™åªæ˜¯ä¸€ä¸ªå•çº¯åœ°é¢è¯•é¢˜ï¼Œé‚£ä¹ˆå®ƒå°†æ¯«æ— æ„ä¹‰ï¼Œé‚£å¦‚æœä¸æ˜¯å‘¢ï¼Ÿä¸€ä¸ªå®Œæ•´çš„ç½‘ç»œè¯·æ±‚æ˜¯ç”±å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·httpè¯·æ±‚ï¼Œå†ç”±æœåŠ¡å™¨å‘é€responseObjectç»™å®¢æˆ·ç«¯ï¼ˆä¸­é—´çš„å…¶ä»–å…³äºæ¡æ‰‹ä¼ é€çš„æ•°æ®åŒ…æˆ‘ä»¬æš‚ä¸”ä¸è®ºï¼‰ï¼Œè¿™å°±åŒ…å«äº†ä¸Šè¡Œæµé‡å’Œä¸‹è¡Œæµé‡ï¼Œè¿™äº›éƒ½æ˜¯ä¼šåŒ…å«åœ¨ç”¨æˆ·æ€»æµé‡ä¸­çš„ï¼ˆè¯´åˆ°è¿™å„¿å¤§å®¶æ˜¯ä¸æ˜¯å¼€å§‹æœ‰è‡ªå·±çš„æƒ³æ³•äº†å‘¢ï¼Ÿï¼‰ã€‚å¦‚æœæˆ‘ä»¬åœ¨è¯·æ±‚è¿”å›ä¹‹å‰cancelæ‰è¿™ä¸ªç½‘ç»œè¯·æ±‚çš„è¯ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯ä¼šå‘é€ä¸€ä¸ªreset packetæ¥æ–­å¼€å½“å‰httpè¿æ¥ï¼Œé˜»æ­¢åç»­æµé‡çš„äº§ç”Ÿã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ‰€ä»¥,å¦‚æœä¸cancelè¯·æ±‚ï¼Œå®Œæˆä¹‹åçš„å›è°ƒä¼šæ‰¾delegateï¼Œè‹¥æ˜¯weakå¼•ç”¨ï¼ŒControllerè¢«é‡Šæ”¾ådelegateä¹Ÿå˜ä¸ºnilï¼Œä¸šåŠ¡æµç¨‹é‡Šæ”¾ï¼Œè¿˜ç®—æ¯”è¾ƒå®‰å…¨ã€‚ä½†ä¹Ÿä¼šæµªè´¹ç”¨æˆ·çš„ä¸€äº›æµé‡ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šappçœ‹ç€ä½“é‡å°ï¼Œä½†æ˜¯ä¼šå¤§é‡æ¶ˆè€—ç”¨æˆ·æµé‡çš„åŸå› ã€‚è€Œä¸”å‡å¦‚Controlleræœªè¢«é‡Šæ”¾æˆ–è€…ä»£ç†ä¸æ˜¯weakå¼•ç”¨ï¼Œé‚£ä¹ˆå›è°ƒåçš„ä¸€äº›åç»­æ“ä½œå°±å¯èƒ½å¼•å‘ä¸€äº›å®‰å…¨é—®é¢˜ã€‚å› æ­¤ï¼Œä¸€ä¸ªè¾ƒæˆç†Ÿçš„APPéƒ½åº”è¯¥å°†è¿™ç§ä¼˜åŒ–APPå¹¶ä¸”èƒ½æé«˜ç”¨æˆ·ä½“éªŒçš„ä¼˜åŒ–è€ƒè™‘è¿›å»ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¦‚ä½•å®ç°å¯¹è¯·æ±‚çš„å–æ¶ˆæ“ä½œï¼ˆä»¥å¸¸ç”¨çš„AFNetworkä¸ºä¾‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;1.å–æ¶ˆæ‰€æœ‰ç½‘ç»œæ“ä½œ&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæ‹¿åˆ°AFHTTPSessionManager(æ³¨æ„åšæˆå…¨å±€å•ä¾‹)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;- (AFHTTPSessionManager *)manager  
{  
    if (!_manager) {  
        _manager = [AFHTTPSessionManager manager];  
    }  
    return _manager;  
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å½“éœ€è¦æ‰§è¡Œå–æ¶ˆæ‰€æœ‰ç½‘ç»œæ“ä½œæ—¶å‡å¦‚ä¸‹é¢ä»£ç å³å¯&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[self.manager.operationQueue cancelAllOperations]; 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;2.å–æ¶ˆå•ä¸ªç½‘ç»œæ“ä½œ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NSString *urlStr = @&quot;&quot;;//ä½ çš„è¯·æ±‚url
NSURLSessionTask *task = [manager GET:urlStr parameters:nil progress:^(NSProgress * _Nonnull downloadProgress) {
        
    } success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        
    }];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;åœ¨ä½ éœ€è¦æ‰§è¡Œå–æ¶ˆæ“ä½œçš„åœ°æ–¹å‡å¦‚ä»£ç &lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;if(self.task) {
	[self.task cancel];//å–æ¶ˆå½“å‰ç•Œé¢çš„æ•°æ®è¯·æ±‚.
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;(oã‚œâ–½ã‚œ)oâ˜†[BINGO!]å®Œæˆï¼&lt;/p&gt;
</description>
        <pubDate>Thu, 05 Jan 2017 20:12:29 +0800</pubDate>
        <link>http://localhost:4000/study/2017/01/05/%E5%85%B3%E4%BA%8E%E5%8F%96%E6%B6%88%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/</link>
        <guid isPermaLink="true">http://localhost:4000/study/2017/01/05/%E5%85%B3%E4%BA%8E%E5%8F%96%E6%B6%88%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/</guid>
        
        <category>ç½‘ç»œè¯·æ±‚</category>
        
        <category>ä¼˜åŒ–</category>
        
        <category>å…³äºå–æ¶ˆç½‘ç»œè¯·æ±‚</category>
        
        
        <category>study</category>
        
      </item>
    
      <item>
        <title>iOSå¼€å‘è°ƒè¯•æ€»ç»“</title>
        <description>&lt;p&gt;è½¯ä»¶å¼€å‘å·¥ä½œï¼Œè°ƒè¯•æ˜¯å¿…å¤‡æŠ€èƒ½ï¼Œé‡è¦æ€§ä¸å¤šè¯´ã€‚è€Œè°ƒè¯•æ–¹æ³•åœ¨ä¸åŒçš„å¹³å°å’Œè¯­è¨€ä¸­å¤§éƒ¨åˆ†éƒ½æ˜¯å¯ä»¥äº’ç›¸è¿ç§»å€Ÿé‰´çš„ã€‚ä¸åŒè¯­è¨€ã€ä¸åŒIDEã€ä¸åŒå¹³å°çš„è°ƒè¯•ï¼Œæœ‰åŒæ€§ä¹Ÿæœ‰ä¸ªæ€§ã€‚æœ¬äººiOSå¼€å‘ï¼Œè¯­è¨€å°±ç”¨OCï¼ŒIDEå°±ç”¨Xcodeï¼Œæ¥å” å” å¼€å‘è°ƒè¯•&lt;/p&gt;

&lt;h3 id=&quot;ä¸€nslogæ‰“å°&quot;&gt;ä¸€ã€NSLogæ‰“å°&lt;/h3&gt;

&lt;p&gt;NSLogæ‰“å°æ˜¯æœ€å¸¸ç”¨çš„è°ƒè¯•æ–¹æ³•ï¼Œä¹Ÿæ˜¯åˆå­¦è€…æœ€å–œæ¬¢æœ€ç®€å•çš„è°ƒè¯•æ–¹æ³•ï¼Œé€šè¿‡æ‰“å°ä¿¡æ¯æ¥æŸ¥çœ‹è¿è¡Œè·¯å¾„å’Œæ•°æ®ç­‰ã€‚ä½†æ‰“å°å‡ºçš„ä¿¡æ¯æ¯”è¾ƒå°‘ï¼ŒNSLogæœ¬èº«æ•ˆç‡ä¹Ÿè¾ƒä½ï¼Œä½†ä¹Ÿä¸å¤±ä¸ºä¸€ç§æ–¹æ³•ã€‚ç”¨ä¸‹é¢çš„å®åšNSLogçš„ä¼˜åŒ–ï¼Œå¯ä»¥æ‰“å°ç±»åã€æ‰€åœ¨æ–¹æ³•åã€è¯¦ç»†æ—¶é—´å’Œè¡Œå·ç­‰ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#define JFLog(format, ...) do { \
    fprintf(stderr,&quot;&amp;lt;%s : %d&amp;gt; %s\n&quot;, \
    [[[NSString stringWithUTF8String:__FILE__] lastPathComponent] UTF8String], \
    __LINE__, __func__); \
    (NSLog)((format), ##__VA_ARGS__); \
    fprintf(stderr,&quot;-------\n&quot;); \
} while (0)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h3 id=&quot;äºŒç”Ÿå‘½å‘¨æœŸæ–¹æ³•initdealloc&quot;&gt;äºŒã€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•initã€dealloc&lt;/h3&gt;
&lt;p&gt;åœ¨ViewControllerä¸­ï¼Œæœ‰ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•æˆ‘ä»¬å¯ä»¥é‡å†™ï¼Œä¹Ÿå°±æ˜¯initã€deallocæ–¹æ³•ã€‚å¯¹äºç›‘å¬æŸäº›å¯¹è±¡çš„çŠ¶æ€å¾ˆæœ‰å¸®åŠ©ï¼Œç‰¹åˆ«æ˜¯åœ¨deallocæ–¹æ³•ä¸­æŸ¥çœ‹å½“ViewControlleré€€å‡ºçš„æ—¶å€™æŸä¸ªå¯¹è±¡æœ‰æ²¡æœ‰releaseæ‰ã€‚è¿™é‡Œä¹Ÿæ²¡æœ‰å•¥ä»£ç ï¼Œè‡ªå·±è§†æƒ…å†µè€Œå®šã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¸‰æŸ¥çœ‹ä»£ç è¿è¡Œæ—¶é—´&quot;&gt;ä¸‰ã€æŸ¥çœ‹ä»£ç è¿è¡Œæ—¶é—´&lt;/h3&gt;
&lt;p&gt;æœ‰æ—¶å€™éœ€è¦åšä»£ç ä¼˜åŒ–æˆ–è€…è€—æ—¶æ“ä½œï¼Œåˆ†ææ•ˆç‡é—®é¢˜ï¼Œå°±éœ€è¦çŸ¥é“ä»£ç çš„æ‰§è¡Œæ—¶é—´é•¿çŸ­ã€‚ç½‘ä¸Šçœ‹äº†çœ‹èµ„æ–™ï¼Œç›´æ¥ä½¿ç”¨å®å°±è¡Œ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#define CODE_START NSDate *startTime = [NSDate date]
#define CODE_END   NSLog(@&quot;Time:%f&quot;,-[startTime timeIntervalSinceNow])
//ç”¨æ³•
	CODE_START;
   //æ”¾ç½®è¢«ç›‘æµ‹ä»£ç 
   CODE_END;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;æ§åˆ¶å°æ‰“å°ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G72XQEDV/GRPz7.png =500x20&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å››åƒµå°¸å¯¹è±¡&quot;&gt;å››ã€åƒµå°¸å¯¹è±¡&lt;/h3&gt;
&lt;p&gt;iOSä¸­æŠŠreleaseå®Œä½†å´æ²¡æœ‰å®Œå…¨æ¶ˆå¤±çš„å¯¹è±¡å«åšåƒµå°¸å¯¹è±¡ï¼Œè¿™æ—¶è‹¥å†æ¬¡é‡Šæ”¾ï¼Œå°±ä¼šå‡ºç°å¼‚å¸¸ã€‚è‹¹æœå¯¹æ­¤ä¼˜åŒ–åçš„ARCå¯¹è¿™ç§æƒ…å†µåšäº†å¾ˆå¤šä¼˜åŒ–å¤„ç†ï¼Œä½†å¶å°”éš¾å…è¿˜æ˜¯ä¼šå‡ºç°ã€‚å¼€å¯åƒµå°¸å¯¹è±¡ç›‘å¬æ¨¡å¼åï¼Œå¯ä»¥å¿«é€Ÿå®šä½å¼‚å¸¸ä½ç½®ï¼Œä¾¿äºæˆ‘ä»¬å¿«é€Ÿè°ƒè¯•ã€‚æ–¹æ³•ï¼šProductâ€“&amp;gt;Schemeâ€“&amp;gt;Edit Scheme. å‹¾é€‰Enable Zombie Objectså³å¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G738nBWj/6MlYo.png =400x200&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;äº”analyzeåˆ†æå™¨&quot;&gt;äº”ã€Analyzeåˆ†æå™¨&lt;/h3&gt;
&lt;p&gt;Analyzeåˆ†æå™¨æ˜¯ä¸€ç§é™æ€åˆ†æå·¥å…·ï¼Œå¯ä»¥å¯¹å½“å‰ç¨‹åºè¿›è¡Œé™æ€åˆ†æï¼Œæ‰¾å‡ºæœªä½¿ç”¨çš„å˜é‡æˆ–ä¸€äº›æ­»å‚¨å­˜ç­‰ç­‰ã€‚æ–¹æ³•ï¼šProductâ€“&amp;gt;Analyze.ç„¶åå°±æ˜¯æ…¢æ…¢ç­‰å®ƒåˆ†æå®Œï¼Œå¦‚ä¸‹è“è‰²çš„æ ‡è®°å°±æ˜¯é™æ€åˆ†æçš„ç»“æœã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73a9gTh/AuFpd.png =400x40&quot; alt=&quot;Thumper&quot; /&gt;
&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73a9kFw/MHxeo.png =200x200&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å…­æ–­ç‚¹&quot;&gt;å…­ã€æ–­ç‚¹&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;æ™®é€šæ–­ç‚¹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ–­ç‚¹(Breakpoint)ç»å¯¹æ˜¯è°ƒè¯•ç¨‹åºçš„ç¬¬ä¸€å¤§é€‰æ‹©ï¼Œä¹Ÿæ˜¯æœ‰ä¸€ä¸ªåŸºç¡€è°ƒè¯•æŠ€èƒ½ã€‚æ–­ç‚¹æ‰“åœ¨å“ªå„¿å½“ç¨‹åºè¿è¡Œè‡³æ­¤æ—¶å°±ä¼šæš‚åœåˆ°è¿™é‡Œï¼ˆè¿™ä¸€è¡Œæœªè¢«æ‰§è¡Œï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73fEqOg/AMPEV.png&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç‚¹å‡»æ•°å­—è¡Œæ•°å°±åœ¨æ­¤è¡Œæ·»åŠ æ–­ç‚¹ï¼Œå†ç‚¹å‡»ä¸€æ¬¡åˆ™å–æ¶ˆï¼ˆè¿˜æœ‰é¢œè‰²ï¼Œä½†ä¸èµ·æ–­ç‚¹ä½œç”¨äº†ï¼Œå¯èƒ½æ˜¯æé†’ä½ æ›¾ç»åœ¨è¿™é‡Œæ‰“è¿‡æ–­ç‚¹ï¼‰ï¼Œè°ƒè¯•ä¸­è¿˜èƒ½åœ¨ä¸‹æ–¹è°ƒè¯•ä¿¡æ¯åŒºçœ‹åˆ°å‚æ•°çš„å€¼ï¼š
&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73hnyMy/hCXKr.png =400x200&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ¡ä»¶æ–­ç‚¹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸Šé¢æ˜¯æœ€æ™®é€šçš„æ–­ç‚¹ä½¿ç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜èƒ½å¯¹æ–­ç‚¹çš„å±æ€§è¿›è¡Œé…ç½®ï¼Œè®¾ç½®æ¡ä»¶ï¼Œè®©æ–­ç‚¹æ›´æ™ºèƒ½åŒ–&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73l8Wdq/FkRh.png =200x100&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç‚¹å‡»Edit Breadpointâ€¦å°±æ˜¯è¿›å…¥æ¡ä»¶æ–­ç‚¹,ä»¥ä¸‹é¢ä»£ç ä¸ºä¾‹&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-(void)test{
	for (int i = 0;i &amp;lt; 5; i++){
		NSLog(@&quot;æˆ‘çš„å€¼ï¼š%d&quot;,i);
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;æˆ‘å¹¶ä¸æƒ³æ¯æ¬¡å¾ªç¯éƒ½æœ‰æ–­ç‚¹ï¼Œåªæœ‰åœ¨ä¸º3æ—¶éœ€è¦ï¼Œåˆ™æ¡ä»¶å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73kIPyS/RcVHi.png =400x300&quot; alt=&quot;Thumper&quot; /&gt;
&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73kILIY/yVUta.png =400x300&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥æŸ¥çœ‹æŸä¸ªæ–¹æ³•è¢«è°ƒç”¨çš„æ¬¡æ•°ï¼Œè®¾ç½®Actionå‚æ•°å¦‚ä¸‹ï¼Œæ³¨ï¼šè¦é€‰ä¸­Automatically continue after evaluating actionsã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73kIHrl/3If2z.png =400x200&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ§åˆ¶å°è¾“å…¥å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73kIC82/FWnAt.png =400x200&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä¸ƒå¼‚å¸¸æ–­ç‚¹&quot;&gt;ä¸ƒã€å¼‚å¸¸æ–­ç‚¹&lt;/h3&gt;
&lt;p&gt;æ–­ç‚¹åŠŸèƒ½ä¸æ­¢äºä¸Šé¢æ‰€è¿°ï¼ŒiOSå¼€å‘è€…éƒ½é‡åˆ°è¿‡ï¼Œæˆ‘ä»¬ç¨‹åºå› ä¸ºå¼‚å¸¸è€Œcrashä»£ç å°±ç›´æ¥è·‘åˆ°mainå‡½æ•°äº†ã€‚å¾ˆå¤šæ—¶å€™å¼€å‘è€…ä¸çŸ¥é“ä»ä½•ä¸‹æ‰‹ï¼Œä¸‹é¢å°±æ˜¯è®²ç”¨å¼‚å¸¸æ–­ç‚¹æ¥è®©ä»£ç ç»ˆæ­¢åœ¨å‡ºç°å¼‚å¸¸çš„é‚£ä¸€è¡Œ
æ·»åŠ å¼‚å¸¸æ–­ç‚¹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73rC3cb/WnJa4.png =100x50&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è‹¥æœ‰å¼‚å¸¸åˆ™ä¼šå‡ºç°ä¸‹é¢å›¾æ ·çš„æƒ…å†µï¼Œç‚¹å‡»è¿›è¡ŒæŸ¥çœ‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73rC03E/smK06.png =200x100&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ç¬¦å·æ–­ç‚¹ Symbolic Breakpoint&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ›å»ºæ–¹æ³•è·Ÿå¼‚å¸¸æ–­ç‚¹ä¸€æ ·ï¼Œç¬¦å·æ–­ç‚¹å¯ä»¥åœ¨æŒ‡å®šçš„ç±»åæˆ–è€…æ–¹æ³•åä¸­æ‰§è¡Œå¼‚å¸¸ä¸­æ–­
&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73rBXiT/CqOeh.png =100x50&quot; alt=&quot;Thumper&quot; /&gt;
é…ç½®ç¬¦å·æ–­ç‚¹å¦‚ä¸‹ï¼šå‡å¦‚éœ€è¦åœ¨æ‰§è¡Œåˆ°ViewControllerç±»çš„viewDidLoadæ–¹æ³•æ—¶æ‰§è¡Œä¸­æ–­ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73rBTzl/KRJSx.png =400x200&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ çš„Symbolåªå†™äº†ä¸€ä¸ªå‡½æ•°åï¼Œé‚£ä¹ˆå°±ä¼šåœ¨å‡ºç°è¯¥å‡½æ•°åçš„åœ°æ–¹å°±ä¸­æ–­æ‰§è¡Œã€‚å¦‚ä¸‹ï¼Œå°±ä¼šåœ¨è¿è¡Œåˆ°doAnimationçš„æ—¶å€™ä¸­æ–­&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G73rBP4N/3bgut.png =400x200&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šå°±æ˜¯è·Ÿå¤§å®¶åˆ†äº«çš„è°ƒè¯•ç»éªŒå•¦ï¼&lt;/p&gt;
</description>
        <pubDate>Fri, 30 Dec 2016 16:08:08 +0800</pubDate>
        <link>http://localhost:4000/study/2016/12/30/iOS%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E6%80%BB%E7%BB%93/</link>
        <guid isPermaLink="true">http://localhost:4000/study/2016/12/30/iOS%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95%E6%80%BB%E7%BB%93/</guid>
        
        <category>iOS</category>
        
        <category>è°ƒè¯•</category>
        
        <category>iOSå¼€å‘è°ƒè¯•æ€»ç»“</category>
        
        
        <category>study</category>
        
      </item>
    
      <item>
        <title>RunTimeæ–¹æ³•äº¤æ¢</title>
        <description>&lt;p&gt;ç°åœ¨æˆ‘æœ‰ä¸ªè¿™ç§éœ€æ±‚ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[UIImage imageNamed:@&quot;img1&quot;];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•åœ¨å›¾ç‰‡ä¸å­˜åœ¨æ˜¯ä¼šå¼•èµ·å´©æºƒï¼Œè¿™é‡Œå…ˆæä¾›ä¸¤ç§ç®€å•ç‚¹çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ç»§æ‰¿&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (UIImage *)imageNamed:(NSString *)name {

    // æ¢å¤ç³»ç»Ÿåšæ³•
    UIImage *image = [super imageNamed:name];
    if ( image == nil ) {
        NSLog(@&quot;åŠ è½½å¤±è´¥&quot;);
    }
    return image;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å°±æ˜¯åˆ›å»ºä¸€ä¸ªUIImageçš„å­ç±»ï¼Œç”¨å­ç±»çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;imageNamed:&lt;/code&gt;æ–¹æ³•åŠ è½½å›¾ç‰‡&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;åˆ†ç±»&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ†ç±»æ–¹æ³•æŒºå¥½ï¼Œç®€æ´ã€‚åˆ‡è®°ï¼Œæ–¹æ³•åä¸èƒ½é‡å¤ç³»ç»Ÿæ–¹æ³•åï¼Œå¯ä»¥åŠ ä¸ªå‰ç¼€&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (UIImage *)TJ_imageNamed:(NSString *)name {

    // æ¢å¤ç³»ç»Ÿåšæ³•
    UIImage *image = [UIImage imageNamed:name];
    if ( image == nil ) {
        NSLog(@&quot;åŠ è½½å¤±è´¥&quot;);
    }
    return image;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å¤§å®¶çœ‹åˆ°è¿™å„¿å‘ç°ä¸æˆ‘ä»¬çš„runtimeè¿˜æ²¡åŠæ¯›é’±å…³ç³»ï¼Œç¨å®‰å‹¿èºã€‚ç°åœ¨éœ€æ±‚å˜è¿™æ ·ï¼šä¸€ä¸ªé¡¹ç›®ï¼Œå·²ç»å¼€å‘è¿­ä»£ä¸¤å¹´ï¼Œä»¥å‰éƒ½æ˜¯ç”¨UIImageåŠ è½½å›¾ç‰‡ï¼Œä½†ç°åœ¨é¡¹ç›®è€å¤§è¦æˆ‘ä»¬duiè¿™ä¸ªç©ºå›¾ç‰‡çš„å´©æºƒé—®é¢˜è¿›è¡Œå¤„ç†ï¼Œä¸€çœ‹çœ‹ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•ï¼Œæ‡µé€¼ä¸­ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å·¥ç¨‹é‡å¤ªå¤§ï¼Œç¯ç¯ç¯ç­‰ï¼runtimeç™»åœºï¼š&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;æµç¨‹&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æä¾›åˆ†ç±»&lt;/li&gt;
  &lt;li&gt;å†™ä¸€ä¸ªæœ‰è¿™æ ·åŠŸèƒ½çš„æ–¹æ³•&lt;/li&gt;
  &lt;li&gt;ç”¨è¿™ä¸ªæ–¹æ³•è·Ÿç³»ç»Ÿæ–¹æ³•è¿›è¡Œæ–¹æ³•äº¤æ¢&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ†ç±»ä¸­çš„æ–°æ–¹æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;+ (void)load {

    // è·å–ç±»æ–¹æ³•
    // class:è·å–å“ªä¸ªç±»çš„æ–¹æ³•
    // SEL:è·å–å“ª
    Method imageNameMethod = class_getClassMethod(self, @selector(imageNamed:));
    Method bj_imageNameMethod = class_getClassMethod(self, @selector(TJ_imageNamed:));

    // äº¤æ¢æ–¹æ³•çš„å®ç°
    method_exchangeImplementations(imageNameMethod, bj_imageNameMethod);
}

+ (UIImage *)bj_imageNamed:(NSString *)name {

    UIImage *image = [UIImage bj_imageNamed:name];

    if (image == nil) {
        NSLog(@&quot;åŠ è½½å¤±è´¥ï¼\n&quot;);
    }

    return image;
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸»çº¿ç¨‹ç›´æ¥è°ƒç”¨ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[UIImage imageNamed:@&quot;img1&quot;];
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ–¹æ³•äº¤æ¢ç¤ºæ„å›¾ï¼š
&lt;img src=&quot;http://pic.yupoo.com/joshpell/G5XK4VgE/rDp9G.png&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Mon, 12 Dec 2016 16:08:08 +0800</pubDate>
        <link>http://localhost:4000/study/2016/12/12/RunTime%E6%96%B9%E6%B3%95%E4%BA%A4%E6%8D%A2/</link>
        <guid isPermaLink="true">http://localhost:4000/study/2016/12/12/RunTime%E6%96%B9%E6%B3%95%E4%BA%A4%E6%8D%A2/</guid>
        
        <category>runtime</category>
        
        <category>æ–¹æ³•äº¤æ¢</category>
        
        <category>RunTimeæ–¹æ³•äº¤æ¢</category>
        
        
        <category>study</category>
        
      </item>
    
      <item>
        <title>RunTimeåŠ¨æ€æ·»åŠ æ–¹æ³•å’Œå±æ€§</title>
        <description>&lt;h3 id=&quot;åŠ¨æ€æ·»åŠ æ–¹æ³•&quot;&gt;åŠ¨æ€æ·»åŠ æ–¹æ³•&lt;/h3&gt;

&lt;p&gt;é¢è¯•çš„æ—¶å€™é¢è¯•å®˜å¯èƒ½ä¼šé—®ç”¨è¿‡performSelectoræ–¹æ³•ä¹ˆï¼Œé‚£å°±è¯·æ³¨æ„äº†ï¼Œä»–ç™¾åˆ†ä¹‹ç™¾é—®çš„æ˜¯è·Ÿruntimeæœ‰å…³çš„çŸ¥è¯†ï¼Œä¸è¦å‚»ä¹ä¹çš„ä»¥ä¸ºä»–å°±æ˜¯é—®ä½ æœ‰æ²¡æœ‰ç”¨è¿‡è¿™ä¸ªæ–¹æ³•äº†ï¼Œç„¶åä½ è¿˜è·Ÿä»–æ‰¯å¯ä»¥å»¶è¿Ÿè°ƒç”¨æ–¹æ³•å•¥çš„ï¼Œè¿™äº›éƒ½æ˜¯OCå°è£…å¥½çš„ï¼Œç›¸ä¿¡æˆ‘ä»–ä¸æ˜¯åœ¨è€ƒä½ è¿™ä¸ªã€‚&lt;/p&gt;

&lt;p&gt;performSelectoræ–¹æ³•åŒºåˆ«äºç›´æ¥è°ƒç”¨ï¼Œç›´æ¥è°ƒç”¨æ—¶å‡å¦‚ä½ æ–¹æ³•æ²¡å®ç°ï¼Œç¼–è¯‘ç›´æ¥æŠ¥é”™ï¼Œè€ŒperformSelectoråªä¼šæŠ¥è­¦å‘Šï¼Œæ‰€ä»¥äººå®¶æ˜¯é—®ä½ runtimeåŠ¨æ€æ·»åŠ æ–¹æ³•çš„ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;p&gt;åŠ¨æ€æ·»åŠ æ–¹æ³•æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œå› ä¸ºç¨‹åºåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šæŠŠæ‰€æœ‰çš„æ–¹æ³•åŠ åˆ°ä¸€ä¸ªæ–¹æ³•åˆ—è¡¨ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ–¹æ³•éƒ½ä¼šä½¿ç”¨åˆ°ï¼Œè€—æ—¶è€—åŠ›ã€‚æˆ‘ä»¬åº”è¯¥å¤šåˆ©ç”¨æ‡’åŠ è½½çš„æ–¹å¼ï¼Œç”¨åˆ°æŸä¸ªæ–¹æ³•ï¼Œå†æ·»åŠ ï¼Œä¸ç”¨çš„æ–¹æ³•å°±ä¸ç”¨ç®¡å®ƒã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæˆ‘ä»¬éœ€è¦å¯¼å…¥#import &amp;lt;objc/message.h&amp;gt;ï¼Œç„¶åå†™ä¸‹ä¸‹é¢2ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// å½“æŸä¸ªç±»æ–¹æ³•åªå£°æ˜ï¼Œæ²¡æœ‰å®ç°çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œä¸‹é¢çš„æ–¹æ³•
+ (BOOL)resolveClassMethod:(SEL)sel;
// å½“æŸä¸ªå¯¹è±¡æ–¹æ³•æ²¡æœ‰åªå£°æ˜ï¼Œæ²¡æœ‰å®ç°çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œä¸‹é¢çš„æ–¹æ³•ã€‚
+ (BOOL)resolveInstanceMethod:(SEL)sel ;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;void eat(id self, SEL _cmd,id param1){
    NSLog(@&quot;è°ƒç”¨%@---%@---%@&quot;,self,NSStringFromSelector(_cmd),param1);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;è®²è§£ä¸€ä¸‹ï¼Œæ¯ä¸€ä¸ªå‡½æ•°ï¼Œéƒ½æœ‰2ä¸ªé»˜è®¤çš„éšå¼å‚æ•°ï¼Œä¸€ä¸ªæ˜¯è°è°ƒç”¨äº†è‡ªå·±ï¼Œä¸€ä¸ªæ˜¯SELï¼ŒSELå°±æ˜¯å¯¹æ–¹æ³•çš„ä¸€ç§åŒ…è£…ã€‚åŒ…è£…çš„SELç±»å‹æ•°æ®å®ƒå¯¹åº”ç›¸åº”çš„æ–¹æ³•åœ°å€,æ‰¾åˆ°æ–¹æ³•åœ°å€å°±å¯ä»¥è°ƒç”¨æ–¹æ³•ã€‚åé¢çš„idç±»å‹çš„param1æ˜¯æˆ‘å†™çš„ä¸€ä¸ªå‚æ•°ï¼Œå› ä¸ºæ˜¯Cè¯­è¨€çš„å‡½æ•°ï¼Œæˆ‘ä»¬æ— æ³•åˆ›å»ºNSä¹‹ç±»çš„ç±»å‹ï¼Œè¿™é‡Œæˆ‘å°±ç”¨idç±»å‹æ¥æ¥å‚æ•°ã€‚&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£æˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸‹é¢çš„ä»£ç åšåˆ¤æ–­ï¼Œä½¿å¾—åœ¨æ‰¾ä¸åˆ°eatæ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥æ‰§è¡Œæˆ‘ä»¬åŠ¨æ€æ·»åŠ çš„eatæ–¹æ³•ï¼Œæ³¨æ„ï¼Œä¸Šé¢çš„å‡½æ•°åå¯ä»¥éšæ„å†™ï¼Œåªéœ€è¦åœ¨ä¸‹é¢æ·»åŠ æ–¹æ³•çš„æ—¶å€™åšå¥½å…³è”å°±å¥½ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// å¤–ç•Œè°ƒç”¨ä¸€ä¸ªæ²¡æœ‰å®ç°çš„å¯¹è±¡æ–¹æ³•-
// resolveInstanceMethodä¸­selæ˜¯æ²¡æœ‰å®ç°çš„å‚æ•°
+ (BOOL)resolveInstanceMethod:(SEL)sel{

    NSLog(@&quot;%@&quot;,NSStringFromSelector(sel));
//    if (sel == @selector(eat)) {}è¿™å¥è¯ç­‰åŒä¸‹é¢çš„åˆ¤æ–­

    if ([NSStringFromSelector(sel) isEqualToString:@&quot;eat:&quot;] ) {
        // è¿™é‡Œæ·»åŠ æ–¹æ³•
        // ç»™å“ªä¸ªç±»
        //SEL:æ–¹æ³•å
        //IMP:æ–¹æ³•çš„å®ç°ï¼ˆå‡½æ•°çš„å…¥å£-å‡½æ•°çš„æŒ‡é’ˆ-å‡½æ•°çš„åï¼‰
        //type :æ–¹æ³•ç±»å‹
        class_addMethod(self, sel, (IMP)eat, &quot;v@:@&quot;); 
        returnYES;
    }
    return [super resolveInstanceMethod:sel];
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;è¿™é‡Œä»‹ç»ä¸€ä¸‹OBJC_EXPORT BOOL class_addMethod(Class cls, SEL name, IMP imp, const char *types)è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ„ä¹‰&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Class cls:å°±æ˜¯ä½ ç»™å“ªä¸ªç±»æ·»åŠ çš„è¿™ä¸ªæ–¹æ³•
SEL nameï¼šå°±æ˜¯æ–¹æ³•åå­—æ˜¯å•¥ï¼Œé»˜è®¤è¿›å…¥æ–¹æ³•çš„æ—¶å€™ï¼Œè‚¯å®šæ˜¯æ–¹æ³•ä¸Šå¸¦çš„å‚æ•°selæ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œä¼ å…¥çš„æ˜¯selã€‚
(IMP)eatï¼šè¿™é‡Œéœ€è¦æˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªIMPï¼Œå•¥å®IMP,IMPå°±æ˜¯æ–¹æ³•çš„å®ç°ï¼ˆå‡½æ•°çš„å…¥å£-å‡½æ•°çš„æŒ‡é’ˆ-å‡½æ•°çš„åï¼‰å¤§å®¶è¿™é‡Œæ„ä¼šä¸‹
 const char *typesï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥å¥½å¥½è¯´ä¸€è¯´ã€‚æˆ‘å…ˆè¯´ä¸‹æ„æ€ï¼Œ*v@:@*çš„æ„æ€å°±æ˜¯ï¼Œè¿”å›ç±»å‹æ˜¯void,å‚æ•°æ˜¯id,SEL,idã€‚å…·ä½“å¤§å®¶å‚è€ƒä¸Šé¢æˆ‘å†™çš„å‡½æ•°ä»¥åŠå‡½æ•°è¯´æ˜ã€‚

å¦‚æœæƒ³æŸ¥åˆ°è¿™äº›ä»£è¡¨å•¥æ„æ€ï¼Œå¯ä»¥æ‰“å¼€è‹¹æœæ–‡æ¡£ï¼Œè¾“å…¥Type Encodingsï¼Œé€‰æ‹©æˆ‘ç®­å¤´æ‰€æŒ‡ã€‚æŸ¥è¯¢ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://pic.yupoo.com/joshpell/G5YKO1rz/BI7j7.png&quot; alt=&quot;Thumper&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;åŠ¨æ€æ·»åŠ å±æ€§&quot;&gt;åŠ¨æ€æ·»åŠ å±æ€§&lt;/h3&gt;
&lt;p&gt;é€šè¿‡è¿è¡Œæ—¶æ·»åŠ å±æ€§ï¼Œä½¿ç”¨é¢è¿˜æ˜¯æ¯”è¾ƒå¹¿çš„ã€‚æ¯”å¦‚æƒ³ç»™buttonç±»ç»‘å®šä¸€ä¸ªå±æ€§ï¼Œå¤§å®¶è‚¯å®šä¼šç»§æ‰¿buttonæ¥æ“ä½œã€‚å…¶å®é€šè¿‡è¿è¡Œæ—¶æ·»åŠ å±æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°ç»™ç³»ç»Ÿbuttonæ·»åŠ ä¸€ä¸ªå±æ€§çš„éœ€æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;é»˜è®¤æˆ‘ä»¬åœ¨åˆ›å»ºåˆ†ç±»çš„æ—¶å€™ï¼Œæ·»åŠ ä¸€ä¸ªæˆå‘˜å±æ€§åï¼Œå¤§å®¶å¾€å¾€ä¼šå‘ç°ï¼Œç›´æ¥è°ƒç”¨è¿™ä¸ªç±»çš„ç‚¹è¯­æ³•ï¼Œæˆ‘ä»¬è·å–ä¸äº†å±æ€§,ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å› ä¸ºé»˜è®¤åˆ†ç±»åˆ›å»ºçš„å±æ€§ï¼Œä¸ä¼šæ‰§è¡Œsetå’Œgetæ–¹æ³•ã€‚å¦‚æœæˆ‘ä»¬ä¸€å®šè¦è·å–åˆ°è¿™ä¸ªå±æ€§ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¿™é‡Œæœ‰2ç§æ–¹æ³•ï¼Œä¸€ç§å°±æ˜¯æ·»åŠ ä¸€ä¸ªé™æ€å˜é‡ï¼Œé‡å†™å®ƒçš„setå’Œgetæ–¹æ³•.å¦å¤–ä¸€ç§å°±æ˜¯é€šè¿‡è¿è¡Œæ—¶ï¼Œæ·»åŠ è¿™ä¸ªå±æ€§ã€‚è¿™é‡Œæˆ‘åªè®²ç¬¬äºŒç§ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// å£°æ˜ä¸€ä¸ªcharå‹çš„key
static char nameKey;

- (void)setName:(NSString *)name
{
    // å±æ€§è·Ÿå¯¹è±¡æœ‰å…³è”-å°±æ˜¯æ·»åŠ å±æ€§

    // object:å¯¹è±¡
    // key:å±æ€§åï¼Œæ ¹æ®keyå»è·å–åˆ°å€¼
    // value:å€¼
    // policyï¼šç­–ç•¥
    objc_setAssociatedObject(self, &amp;amp;nameKey, name, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;è¿™é‡Œæˆ‘è®²ä¸€ä¸‹OBJC_EXPORT void objc_setAssociatedObject(id object, const void *key, id value, objc_AssociationPolicy policy)è¿™ä¸ªæ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ–¹æ³•çš„å­—é¢æ„æ€å°±æ˜¯æŠŠä¸€ä¸ªå€¼ï¼Œé€šè¿‡ä¸€ä¸ªkeyç»‘å®šåˆ°ä¸€ä¸ªç±»ä¸­ï¼Œæœ€åè®¾ç½®ä¸€ä¸‹ä¿å­˜çš„ç­–ç•¥ã€‚ä»£ç çš„æ„æ€æ˜¯ï¼ŒæŠŠnameçš„å€¼ï¼Œé€šè¿‡nameKeyç»‘å®šåˆ°å½“å‰ç±»ï¼Œä¿å­˜çš„æ˜¯nonatomicçš„copyç±»å‹ã€‚
è¡¥å……ä¸€ä¸‹æœ€åä¸€ä¸ªå‚æ•°ï¼ˆç­–ç•¥ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// assignç±»å‹
   OBJC_ASSOCIATION_ASSIGN = 0,
// éåŸå­æ€§Retain--&amp;gt;ç›¸å½“äºStrong
    OBJC_ASSOCIATION_RETAIN_NONATOMIC = 1,
// éåŸå­æ€§ copy-
    OBJC_ASSOCIATION_COPY_NONATOMIC = 3,
// åŸå­æ€§Retain
    OBJC_ASSOCIATION_RETAIN = 01401,
// åŸå­æ€§copy
    OBJC_ASSOCIATION_COPY
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;å–å¾—åŠ¨æ€ç»‘å®šå±æ€§çš„æ–¹æ³•å¦‚ä¸‹:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;- (NSString *)name
{
    return objc_getAssociatedObject(self, &amp;amp;nameKey);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;ç®€å•çš„è§£é‡Šå°±æ˜¯é€šè¿‡selfè¿™ä¸ªç±»çš„ï¼ŒnameKeyè¿™ä¸ªkey,æˆ‘ä»¬å°±å¯ä»¥å–åˆ°nameKeyç›¸å¯¹åº”çš„å€¼äº†ã€‚è¿™å°±æ˜¯å¦‚ä½•é€šè¿‡runtimeæ¥åŠ¨æ€çš„ç»™ç±»æ·»åŠ å±æ€§äº†ï¼Œå¸…å“¥ï¼Œä½ å¯ä»¥è¯•è¯•äº†ï¼&lt;/p&gt;

</description>
        <pubDate>Mon, 12 Dec 2016 16:08:08 +0800</pubDate>
        <link>http://localhost:4000/study/2016/12/12/RunTime%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E6%96%B9%E6%B3%95%E5%92%8C%E5%B1%9E%E6%80%A7/</link>
        <guid isPermaLink="true">http://localhost:4000/study/2016/12/12/RunTime%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E6%96%B9%E6%B3%95%E5%92%8C%E5%B1%9E%E6%80%A7/</guid>
        
        <category>runtime</category>
        
        <category>åŠ¨æ€æ·»åŠ </category>
        
        <category>RunTimeåŠ¨æ€æ·»åŠ æ–¹æ³•å’Œå±æ€§</category>
        
        
        <category>study</category>
        
      </item>
    
      <item>
        <title>xibä½œä¸ºcellæ—¶çš„å¤ç”¨é—®é¢˜</title>
        <description>&lt;p&gt;appleé¼“åŠ±å¤§å®¶ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢å¼€å‘ï¼Œè¿™æ ·æ•ˆç‡æ›´é«˜ï¼Œä½†æˆ‘ä»¬åœ¨ä½¿ç”¨xibæ–°å»ºcellçš„æ—¶å€™ä¼šé‡åˆ°é—®é¢˜,xibæ–°å»ºæ—¶æ˜¯æ²¡æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;initWithStyle: reuseIdentifier:&lt;/code&gt;è¿™ä¸ªæ–¹æ³•çš„ï¼Œä½†ä¸ºäº†æ•ˆç‡cellè¿˜æ˜¯éœ€è¦å¤ç”¨ï¼Œæ‰€ä»¥å°±éœ€è¦ç”¨ä¸‹é¢æ–¹æ³•æ¥æ–°å»ºcelläº†ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    MyCustomCell * cell = [tableView dequeueReusableCellWithIdentifier:@&quot;myCell&quot;];
    if (!cell){
    
        [tableView registerNib:[UINib nibWithNibName:@&quot;MyCustomCell&quot; bundle:nil] forCellReuseIdentifier:@&quot;myCell&quot;];
        cell = [tableView dequeueReusableCellWithIdentifier:@&quot;myCell&quot;];
    }
    return cell;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Mon, 12 Dec 2016 16:08:08 +0800</pubDate>
        <link>http://localhost:4000/tips/2016/12/12/xib%E4%BD%9C%E4%B8%BAcell%E6%97%B6%E7%9A%84%E5%A4%8D%E7%94%A8%E9%97%AE%E9%A2%98/</link>
        <guid isPermaLink="true">http://localhost:4000/tips/2016/12/12/xib%E4%BD%9C%E4%B8%BAcell%E6%97%B6%E7%9A%84%E5%A4%8D%E7%94%A8%E9%97%AE%E9%A2%98/</guid>
        
        <category>xib</category>
        
        <category>å¤ç”¨</category>
        
        <category>xibä½œä¸ºcellæ—¶çš„å¤ç”¨é—®é¢˜</category>
        
        
        <category>tips</category>
        
      </item>
    
      <item>
        <title>WKWebKitä»‹ç»</title>
        <description>&lt;p&gt;è‹¹æœåœ¨iOS8æ¨å‡ºäº†ä¸€ä¸ªæ–°çš„æ¡†æ¶&lt;code class=&quot;highlighter-rouge&quot;&gt;WKWebKit&lt;/code&gt;ï¼Œæ›´å¥½åœ°å†…å­˜ä¼˜åŒ–ã€æ›´å¿«çš„åŠ è½½é€Ÿåº¦å’Œæ›´ä¸°å¯Œçš„æ¥å£è®©å®ƒæˆä¸ºäº†å¼€å‘è€…æ‰‹ä¸­çš„é¦™é¦é¦ï¼Œæ›¿ä»£UIWebViewå°±å˜å¾—é¡ºç†æˆç« ã€‚&lt;/p&gt;

&lt;p&gt;UIWebView&amp;amp;UIWebDelegateè¿™ä¸¤ä¸ªä¸œè¥¿åœ¨WKWebKitä¸­è¢«é‡æ„æˆ16ä¸ªç±»ã€3ä¸ªåè®®&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Classes&lt;/em&gt;&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;WKBackForwardListï¼šå†å²è®°å½•åˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡åé€€å’Œå‰è¿›åŠ¨ä½œè®¿é—®åˆ°ï¼›ï¼ˆ- itemAtIndex: è¯¥ç±»ä¸­å”¯ä¸€æ–¹æ³•ï¼Œç”¨äºè¿”å›é¡¹ç›®åœ¨æŒ‡å®šçš„è·ç¦»å½“å‰é¡¹ç›®ã€‚è¿˜æœ‰backItemã€currentItemã€forwardItemã€backListã€forwardListå±æ€§ï¼‰&lt;/li&gt;
  &lt;li&gt;WKBackForwardListItemï¼šwebViewä¸­åé€€åˆ—è¡¨é‡Œçš„æŸä¸€ç½‘é¡µï¼›ï¼ˆæœ‰URLã€titleã€initialURLä¸‰ä¸ªå±æ€§ï¼‰&lt;/li&gt;
  &lt;li&gt;WKFrameInfo:åŒ…å«ä¸€ä¸ªæ¡†æ¶åœ¨ä¸€ä¸ªç½‘é¡µçš„ä¿¡æ¯ï¼›ï¼ˆæœ‰mainFrameã€requestã€securityOriginä¸‰ä¸ªå±æ€§ï¼Œå…¶ä¸­securityOriginæ˜¯ä¸€ä¸ªWKSecurityOriginå¯¹è±¡å±æ€§ï¼ŒiOS9ä¹‹åå¯ä½¿ç”¨ï¼Œæ˜¯ç”±ä¸€ä¸ªä¸»æœºåç§°ï¼Œåè®®å’Œç«¯å£å·ç»„æˆã€‚ï¼‰&lt;/li&gt;
  &lt;li&gt;WKNavigationï¼šåŒ…å«ä¸€ä¸ªç½‘é¡µåŠ è½½è¿›åº¦ä¿¡æ¯ï¼›&lt;/li&gt;
  &lt;li&gt;WKNavigationActionï¼šåŒ…å«å¯èƒ½è®©ç½‘é¡µå¯¼èˆªå˜åŒ–çš„ä¿¡æ¯ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦åšå‡ºå¯¼èˆªå˜åŒ–ï¼›ï¼ˆå€¼å¾—æ³¨æ„çš„æ˜¯å¯èƒ½ä¼šå¸¸ç”¨çš„ WKNavigationTypeè¿™ä¸ªæšä¸¾ï¼‰&lt;/li&gt;
  &lt;li&gt;WKNavigationResponseï¼šåŒ…å«å¯èƒ½è®©ç½‘é¡µå¯¼èˆªå˜åŒ–çš„è¿”å›å†…å®¹ä¿¡æ¯ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦åšå‡ºå¯¼èˆªå˜åŒ–ï¼›&lt;/li&gt;
  &lt;li&gt;WKPreferencesï¼šæ¦‚æ‹¬ä¸€ä¸ªwebViewçš„åå¥½è®¾ç½®ï¼›ï¼ˆ minimumFontSizeã€ javaScriptEnabledã€ javaScriptCanOpenWindowsAutomaticallyä¸‰ä¸ªå±æ€§ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯åä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªå†³å®šæ˜¯å¦å¯ç”¨javaScript,å¦ä¸€ä¸ªæ˜¯åœ¨æ²¡æœ‰ç”¨æˆ·äº¤äº’çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦JavaScriptå¯ä»¥æ‰“å¼€windowsï¼‰&lt;/li&gt;
  &lt;li&gt;WKProcessPoolï¼šè¡¨ç¤ºä¸€ä¸ªwebå†…å®¹åŠ è½½æ± ï¼›&lt;/li&gt;
  &lt;li&gt;WKUserContentControllerï¼šæä¾›ä½¿ç”¨JavaScript postä¿¡æ¯å’Œæ³¨å°„scriptçš„æ–¹æ³•ã€‚ï¼ˆ- addScriptMessageHandler:name: æ·»åŠ ä¸€ä¸ªæ¶ˆæ¯å¤„ç†ç¨‹åºè„šæœ¬ - addUserScript: æ·»åŠ ä¸€ä¸ªç”¨æˆ·è„šæœ¬ - removeAllUserScripts removeæ‰€æœ‰ç”¨æˆ·è„šæœ¬ â€”removeScriptMessageHandlerForName: åˆ é™¤ä¸€ä¸ªæ¶ˆæ¯å¤„ç†ç¨‹åºçš„è„šæœ¬ å’Œä¸€ä¸ªuserScriptå±æ€§ï¼š ä¸ç”¨æˆ·ç›¸å…³è”çš„ç”¨æˆ·è„šæœ¬å†…å®¹æ§åˆ¶å™¨ï¼‰&lt;/li&gt;
  &lt;li&gt;WKScriptMessage: åŒ…å«ç½‘é¡µå‘å‡ºçš„ä¿¡æ¯ã€‚ï¼ˆbodyã€webViewã€frameInfoã€nameï¼‰&lt;/li&gt;
  &lt;li&gt;WKUserScriptï¼šè¡¨ç¤ºå¯ä»¥è¢«ç½‘é¡µæ¥å—çš„ç”¨æˆ·è„šæœ¬ã€‚&lt;/li&gt;
  &lt;li&gt;WKWebViewConfiguration: åˆå§‹åŒ– webview çš„è®¾ç½®ã€‚ï¼ˆ- initWithSource:injectionTime:forMainFrameOnly: è¿”å›ä¸€ä¸ªåˆå§‹åŒ–ç”¨æˆ·è„šæœ¬,å¯ä»¥æ·»åŠ åˆ°ä¸€ä¸ªç”¨æˆ·å†…å®¹æ§åˆ¶å™¨ è¿˜æœ‰sourceã€injectionTimeã€forMainFrameOnlyï¼‰&lt;/li&gt;
  &lt;li&gt;WKWindowFeatures:æŒ‡å®šåŠ è½½æ–°ç½‘é¡µæ—¶çš„çª—å£å±æ€§ã€‚(å…¨æ˜¯çª—å£å±æ€§)&lt;/li&gt;
  &lt;li&gt;WKWebViewConfiguration:å¯¹è±¡æ˜¯å±æ€§çš„é›†åˆç”¨æ¥åˆå§‹åŒ–ä¸€ä¸ªwebè§†å›¾ã€‚(å±æ€§æ¯”è¾ƒå¤šï¼Œä¸è¿‡è¿™ä¸ªå¯¹è±¡åœ¨åˆå§‹åŒ–webè§†å›¾çš„æ—¶å€™å¿…é¡»ä¼šç”¨åˆ°)&lt;/li&gt;
  &lt;li&gt;è¿˜æœ‰WKWebsiteDataStore&amp;amp;WKWebsiteDataRecordä¸¤ä¸ªç±»&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Protocols&lt;/em&gt;&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;WKNavigationDelegate:æä¾›äº†è¿½è¸ªä¸»çª—å£ç½‘é¡µåŠ è½½è¿‡ç¨‹å’Œåˆ¤æ–­ä¸»çª—å£å’Œå­çª—å£æ˜¯å¦è¿›è¡Œé¡µé¢åŠ è½½æ–°é¡µé¢çš„ç›¸å…³æ–¹æ³•ã€‚&lt;/li&gt;
  &lt;li&gt;WKScriptMessageHandler: æä¾›ä»ç½‘é¡µä¸­æ”¶æ¶ˆæ¯çš„å›è°ƒæ–¹æ³•ã€‚&lt;/li&gt;
  &lt;li&gt;WKUIDelegate: æä¾›ç”¨åŸç”Ÿæ§ä»¶æ˜¾ç¤ºç½‘é¡µçš„æ–¹æ³•å›è°ƒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;WKNavigationDelegate&lt;/em&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:didCommitNavigation: ä¸»æ¡†æ¶åœ¨å†…å®¹å¼€å§‹åˆ°è¾¾æ—¶è°ƒç”¨ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:didFailNavigation:withError: ä¸»æ¡†æ¶å¯¼èˆªå‘ç”Ÿé”™è¯¯æ—¶è°ƒç”¨ã€‚&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:didFailProvisionalNavigation:withError: ä¸»æ¡†æ¶åœ¨å¼€å§‹åŠ è½½æ•°æ®å‡ºç°é”™è¯¯æ—¶è°ƒç”¨&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:didFinishNavigation: ä¸»æ¡†æ¶å¯¼èˆªå®Œæˆæ—¶è°ƒç”¨&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:didReceiveAuthenticationChallenge:completionHandler: webè§†å›¾éœ€è¦å“åº”èº«ä»½éªŒè¯æ—¶è°ƒç”¨&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:didReceiveServerRedirectForProvisionalNavigation: ä¸»æœåŠ¡å™¨æ¥å—åˆ°é‡å®šå‘æ—¶è°ƒç”¨&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:didStartProvisionalNavigation: ä¸»æ¡†æ¶å¯¼èˆªå¼€å§‹æ—¶è°ƒç”¨&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:decidePolicyForNavigationAction:decisionHandler: å†³å®šæ˜¯å¦å…è®¸æˆ–å–æ¶ˆä¸€ä¸ªå¯¼èˆª&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;webView:decidePolicyForNavigationResponse:decisionHandler: å†³å®šæ˜¯å¦å…è®¸æˆ–å–æ¶ˆä¸€ä¸ªå¯¼èˆªåå…¶ååº”æ˜¯å·²çŸ¥çš„&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;WKScriptMessageHandler&lt;/em&gt;ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;userContentController:didReceiveScriptMessage:ï¼ˆrequiredï¼‰ä¸€ä¸ªè„šæœ¬ä»ä¸€ä¸ªç½‘é¡µæ¥æ”¶åˆ°æ¶ˆæ¯æ—¶è°ƒç”¨&lt;/li&gt;
  &lt;li&gt;WKUIDelegateï¼š&lt;/li&gt;
  &lt;li&gt;webView:createWebViewWithConfiguration:forNavigationAction:windowFeatures:åˆ›å»ºä¸€ä¸ªæ–°çš„webView&lt;/li&gt;
  &lt;li&gt;webView:runJavaScriptAlertPanelWithMessage:initiatedByFrame:completionHandler: æ˜¾ç¤ºä¸€ä¸ªJavaScriptè­¦å‘Šé¢æ¿ã€‚&lt;/li&gt;
  &lt;li&gt;webView:runJavaScriptConfirmPanelWithMessage:initiatedByFrame:completionHandler:æ˜¾ç¤ºä¸€ä¸ªJavaScriptç¡®è®¤é¢æ¿ã€‚&lt;/li&gt;
  &lt;li&gt;webView:runJavaScriptTextInputPanelWithPrompt:defaultText:initiatedByFrame:completionHandler: æ˜¾ç¤ºä¸€ä¸ªJavaScriptæ–‡æœ¬è¾“å…¥é¢æ¿ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…¶ä¸­ä¸€äº›ç±»ä¸­çš„æšä¸¾çŠ¶æ€ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typedef NS_ENUM(NSInteger, WKNavigationType) {
    WKNavigationTypeLinkActivated,//é“¾æ¥çš„hrefå±æ€§è¢«ç”¨æˆ·æ¿€æ´»ã€‚
    WKNavigationTypeFormSubmitted,//ä¸€ä¸ªè¡¨å•æäº¤ã€‚
    WKNavigationTypeBackForward,//å›åˆ°å‰é¢çš„æ¡ç›®åˆ—è¡¨è¯·æ±‚ã€‚
    WKNavigationTypeReload,//ç½‘é¡µåŠ è½½ã€‚
    WKNavigationTypeFormResubmitted,//ä¸€ä¸ªè¡¨å•æäº¤(ä¾‹å¦‚é€šè¿‡å‰è¿›,åé€€,æˆ–é‡æ–°åŠ è½½)ã€‚
    WKNavigationTypeOther = -1,//å¯¼èˆªæ˜¯å‘ç”Ÿä¸€äº›å…¶ä»–åŸå› ã€‚
} NS_ENUM_AVAILABLE(10_10, 8_0);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typedef NS_ENUM(NSInteger, WKUserScriptInjectionTime) {
    WKUserScriptInjectionTimeAtDocumentStart,//æ³¨å…¥åçš„è„šæœ¬åˆ›å»ºæ–‡æ¡£å…ƒç´ ,ä½†åœ¨å…¶ä»–ä»»ä½•å†…å®¹å·²ç»è¢«åŠ è½½ã€‚
    WKUserScriptInjectionTimeAtDocumentEnd//æ³¨å…¥è„šæœ¬æ–‡æ¡£å®ŒæˆåŠ è½½å,ä½†åœ¨ä»»ä½•å­èµ„æºå¯èƒ½å®ŒæˆåŠ è½½ã€‚
}
NS_ENUM_AVAILABLE(10_10, 8_0);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typedef NS_ENUM(NSInteger, WKNavigationActionPolicy) {
    WKNavigationActionPolicyCancel,//å–æ¶ˆå¯¼èˆª
    WKNavigationActionPolicyAllow,//å…è®¸å¯¼èˆªç»§ç»­
} NS_ENUM_AVAILABLE(10_10, 8_0);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typedef NS_ENUM(NSInteger, WKNavigationResponsePolicy) {
    WKNavigationResponsePolicyCancel,//å–æ¶ˆå¯¼èˆª
    WKNavigationResponsePolicyAllow,//å…è®¸å¯¼èˆªç»§ç»­
} NS_ENUM_AVAILABLE(10_10, 8_0);
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Mon, 12 Dec 2016 16:08:08 +0800</pubDate>
        <link>http://localhost:4000/study/2016/12/12/WKWebKit%E4%BB%8B%E7%BB%8D/</link>
        <guid isPermaLink="true">http://localhost:4000/study/2016/12/12/WKWebKit%E4%BB%8B%E7%BB%8D/</guid>
        
        <category>WKWebKit</category>
        
        <category>WKWebKitä»‹ç»</category>
        
        
        <category>study</category>
        
      </item>
    
      <item>
        <title>emojiè¡¨æƒ…ä½œä¸ºå•å­—ç¬¦é•¿åº¦çš„å¤„ç†</title>
        <description>&lt;p&gt;æˆ‘ä»¬çŸ¥é“emojiè¡¨æƒ…æ˜¯ä¸€äº›ç‰¹æ®Šæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è®¡ç®—å…¶é•¿åº¦çš„æ—¶å€™ç›´æ¥ç”¨â€œxxx.lengthâ€å³å¯ï¼Œä½†æœ‰æ—¶å€™äº§å“ç»ç†ä¼šè¦æ±‚ä½ æŠŠæ‰€æœ‰çš„emojiè¡¨æƒ…éƒ½å½“åšä¸€ä¸ªå­—ç¬¦å¤„ç†ï¼Œåˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„ğŸ˜­ğŸ˜­ğŸ˜­ï¼Œè¿™é‡Œå†™ä¸‹æ¥å¸Œæœ›å¤§å®¶ä¸è¦è·Ÿæˆ‘ä¸€æ ·åˆ°å¤„è·³å‘&lt;/p&gt;

&lt;p&gt;è¿˜æ˜¯ç›´æ¥ä¸Šä»£ç &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;è·å–emojiä¸ªæ•°ï¼ˆæˆ‘è¿™é‡Œå†™åˆ°äº†NSStringçš„ç±»æ–¹æ³•ä¸­ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
+ (NSInteger)emojiCountInString:(NSString *)string
{
    __block NSInteger num = 0;
    [string enumerateSubstringsInRange:NSMakeRange(0, [string length])
                               options:NSStringEnumerationByComposedCharacterSequences
                            usingBlock:^(NSString * _Nullable substring, NSRange substringRange, NSRange enclosingRange, BOOL * _Nonnull stop) {
		const unichar hs = [substring characterAtIndex:0];
		if (0xd800 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0xdbff){
			if (substring.length &amp;gt; 1) {
				const unichar ls = [substring characterAtIndex:1];
			    const int uc = ((hs - 0xd800) * 0x400) + (ls - 0xdc00) + 0x10000;
				if (0x1d000 &amp;lt;= uc &amp;amp;&amp;amp; uc &amp;lt;= 0x1f918)
				{
					num += 1;
				}
			}
		}
		else if (substring.length &amp;gt; 1)
		{
			const unichar ls = [substring characterAtIndex:1];
			if (ls == 0x20e3 || ls == 0xFE0F || ls == 0xd83c)
			{
				num += 1;
			}
		}
	    else{
		// non surrogate
			if (0x2100 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0x27ff)
			{
			if (0x278b &amp;lt;= hs &amp;amp;&amp;amp; 0x2792 &amp;gt;= hs)
			{
				//ä¸ä¸ºemoji
			}
			else
			{
				num += 1;
			}
		}
		else if (0x2B05 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0x2b07)
		{
			num += 1;
		}
		else if (0x2934 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0x2935)
		{
			num += 1;
		}
		else if (0x3297 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0x3299)
		{
			num += 1;
		}
		else if (hs == 0xa9 || hs == 0xae || hs == 0x303d || hs == 0x3030 || hs == 0x2b55 || hs == 0x2b1c || hs == 0x2b1b || hs == 0x2b50 || hs == 0xd83e)
		{
			num += 1;
		}
	}
	}];
    return num;
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;å­—ç¬¦ä¸²å»æ‰emoji&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
+ (NSString *)getStringWithoutEmoji:(NSString *)string
{
    __block NSString *tempStr = string;
    [string enumerateSubstringsInRange:NSMakeRange(0, [string length])
                               options:NSStringEnumerationByComposedCharacterSequences
                            usingBlock:^(NSString * _Nullable substring, NSRange substringRange, NSRange enclosingRange, BOOL * _Nonnull stop) {
                                const unichar hs = [substring characterAtIndex:0];
                                // surrogate pair
                                if (0xd800 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0xdbff)
                                {
                                    if (substring.length &amp;gt; 1)
                                    {
                                        const unichar ls = [substring characterAtIndex:1];
                                        const int uc = ((hs - 0xd800) * 0x400) + (ls - 0xdc00) + 0x10000;
                                        if (0x1d000 &amp;lt;= uc &amp;amp;&amp;amp; uc &amp;lt;= 0x1f918)
                                        {

                                            tempStr = [tempStr stringByReplacingOccurrencesOfString:substring withString:@&quot;&quot;];
                                        }
                                    }
                                }
                                else if (substring.length &amp;gt; 1)
                                {
                                    const unichar ls = [substring characterAtIndex:1];
                                    if (ls == 0x20e3 || ls == 0xFE0F || ls == 0xd83c)
                                    {
                                        tempStr = [tempStr stringByReplacingOccurrencesOfString:substring withString:@&quot;&quot;];
                                    }
                                }
                                else
                                {
                                    // non surrogate
                                    if (0x2100 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0x27ff)
                                    {
                                        if (0x278b &amp;lt;= hs &amp;amp;&amp;amp; 0x2792 &amp;gt;= hs)
                                        {
                                            //ä¸ä¸ºemoji
                                        }
                                        else
                                        {
                                            tempStr = [tempStr stringByReplacingOccurrencesOfString:substring withString:@&quot;&quot;];
                                        }
                                    }
                                    else if (0x2B05 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0x2b07)
                                    {
                                        tempStr = [tempStr stringByReplacingOccurrencesOfString:substring withString:@&quot;&quot;];
                                    }
                                    else if (0x2934 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0x2935)
                                    {
                                        tempStr = [tempStr stringByReplacingOccurrencesOfString:substring withString:@&quot;&quot;];
                                    }
                                    else if (0x3297 &amp;lt;= hs &amp;amp;&amp;amp; hs &amp;lt;= 0x3299)
                                    {
                                        tempStr = [tempStr stringByReplacingOccurrencesOfString:substring withString:@&quot;&quot;];
                                    }
                                    else if (hs == 0xa9 || hs == 0xae || hs == 0x303d || hs == 0x3030 || hs == 0x2b55 || hs == 0x2b1c || hs == 0x2b1b || hs == 0x2b50 || hs == 0xd83e)
                                    {
                                        tempStr = [tempStr stringByReplacingOccurrencesOfString:substring withString:@&quot;&quot;];
                                    }
                                }
                            }];
    return tempStr;
}



&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;è·å–æŠŠemojiè¡¨æƒ…å½“æˆå•ä¸ªå­—ç¬¦é•¿åº¦å¤„ç†åçš„å­—ç¬¦ä¸²é•¿åº¦&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-(NSInteger)lengthWithEmojiString{
    NSInteger emojiLen = [NSString emojiCountInString:self];
    NSString * normalStr = [NSString getStringWithoutEmoji:self];
    NSInteger strLengh = normalStr.length+emojiLen;
    return strLengh;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Tue, 08 Nov 2016 16:08:08 +0800</pubDate>
        <link>http://localhost:4000/study/2016/11/08/emoji%E8%A1%A8%E6%83%85%E4%BD%9C%E4%B8%BA%E5%8D%95%E5%AD%97%E7%AC%A6%E9%95%BF%E5%BA%A6%E7%9A%84%E5%A4%84%E7%90%86/</link>
        <guid isPermaLink="true">http://localhost:4000/study/2016/11/08/emoji%E8%A1%A8%E6%83%85%E4%BD%9C%E4%B8%BA%E5%8D%95%E5%AD%97%E7%AC%A6%E9%95%BF%E5%BA%A6%E7%9A%84%E5%A4%84%E7%90%86/</guid>
        
        <category>emoji</category>
        
        <category>é•¿åº¦</category>
        
        <category>emojiè¡¨æƒ…ä½œä¸ºå•å­—ç¬¦é•¿åº¦çš„å¤„ç†</category>
        
        
        <category>study</category>
        
      </item>
    
      <item>
        <title>blockä¸­weakSelfå’ŒstrongSelfçš„ç®€åŒ–</title>
        <description>&lt;p&gt;æˆ‘ä»¬çŸ¥é“åœ¨blockä¸­ä½¿ç”¨å…¨å±€å˜é‡éœ€è¦è€ƒè™‘åˆ°å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œè¿™æ—¶å°±ä¼šå¼•å…¥weakSelfå’ŒstrongSelfï¼Œå…·ä½“ç”¨æ³•ä¸å¤šè¯´ï¼Œç½‘ä¸Šå¾ˆå¤šä»‹ç»çš„æ–‡ç« ï¼Œæ¯”å¦‚&lt;a href=&quot;http://www.jianshu.com/p/701da54bd78c&quot;&gt;æ·±å…¥ç ”ç©¶Blockç”¨weakSelfã€strongSelfã€@weakifyã€@strongifyè§£å†³å¾ªç¯å¼•ç”¨&lt;/a&gt;
  ä½†æ˜¯é¢‘ç¹çš„ä¹¦å†™weakSelfå’ŒstrongSelfä¼šè®©äººè§‰å¾—ä»£ç é‡å¤ï¼Œä½†æ˜¯è¿™ä¸ªä¸œè¥¿åˆä¸å¥½æŠ½å–ã€‚ç»è¿‡å¤šæ–¹æ‰“æ¢ï¼Œæ‰¾åˆ°ä¸€ä¸ªç‰¹åˆ«ç®€ä¾¿çš„æ–¹æ³•ï¼Œä½ ä¸ç”¨å†è€ƒè™‘weakSelfå’ŒstrongSelfçš„ä¹¦å†™ï¼Œç›´æ¥ä½¿ç”¨selfä»£æ›¿å³å¯ã€‚åœ¨æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢çš„å®å³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#define weakify(...) \
    ext_keywordify \
    metamacro_foreach_cxt(ext_weakify_,, __weak, __VA_ARGS__)
#define strongify(...) \
    ext_keywordify \
    _Pragma(&quot;clang diagnostic push&quot;) \
    _Pragma(&quot;clang diagnostic ignored \&quot;-Wshadow\&quot;&quot;) \
    metamacro_foreach(ext_strongify_,, __VA_ARGS__) \
    _Pragma(&quot;clang diagnostic pop&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Tue, 18 Oct 2016 16:08:08 +0800</pubDate>
        <link>http://localhost:4000/efficiency/2016/10/18/block%E4%B8%ADweakSelf%E5%92%8CstrongSelf%E7%9A%84%E7%AE%80%E5%8C%96/</link>
        <guid isPermaLink="true">http://localhost:4000/efficiency/2016/10/18/block%E4%B8%ADweakSelf%E5%92%8CstrongSelf%E7%9A%84%E7%AE%80%E5%8C%96/</guid>
        
        <category>å¾ªç¯å¼•ç”¨</category>
        
        <category>block</category>
        
        <category>self</category>
        
        <category>blockä¸­weakSelfå’ŒstrongSelfçš„ç®€åŒ–</category>
        
        
        <category>Efficiency</category>
        
      </item>
    
  </channel>
</rss>
